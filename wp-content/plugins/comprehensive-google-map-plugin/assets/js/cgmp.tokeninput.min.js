var jQueryCgmp=jQuery.noConflict();
(function(b){var h,k;h=b("object#global-data-placeholder param#sep").val();k=b("object#global-data-placeholder param#customMarkersUri").val();var n={holderId:null,theme:null,tokenDataId:"id",tokenDataValue:"value",tokenFormatter:function(a){a=a[this.tokenDataValue].split(h);var b="<p style='padding-left: 50px'><i>No description provided</i> ..</p>",d=a[2];null!=a[0]&&""!==a[0]&&(a[0]=a[0].replace(RegExp("\\|","g")," - "));null!=d&&""!==d&&(d=d.replace(RegExp("\\[|\\]","g"),""),d=d.replace(RegExp("\\|",
    "g")," - "),b="<p style='padding-left: 50px'><i>"+d+"</i></p>");return"<li><img src='"+k+a[1]+"' border='0' style='float: left; margin-right: 8px;'><p><b>"+a[0]+"</b></p>"+b+"</li>"}},m={tokenList:"token-input-list",token:"token-input-token",inputToken:"token-input-input-token",highlightedToken:"token-input-highlighted-token",hidden:"marker-destinations",tokenDelete:"token-input-delete-token"},f={init:function(a){var c=b.extend({},n,a||{});c.theme?(c.classes={},b.each(m,function(a,b){c.classes[a]=
    b+"-"+c.theme})):c.classes=b.extend({},m);return this.each(function(){b(this).data("tokenInputObject",new b.TokenList(this,c))})},clear:function(){this.data("tokenInputObject").clear();return this},add:function(a){this.data("tokenInputObject").add(a);return this},get:function(){return this.data("tokenInputObject").getTokens()}};b.fn.tokenInput=function(a){if(f[a])return f[a].apply(this,Array.prototype.slice.call(arguments,1));f.init.apply(this,arguments);return this.data("tokenInputObject")};b.TokenList=
    function(a,c){function d(e){if(null!=e&&""!=e){e=e.replace(RegExp("\\|","g")," - ");var d={id:g.length+1,value:e},f=!1;a.children().each(function(){var a=b(this);(a=b.data(a.get(0),"tokeninput"))&&a.value===d.value&&(f=!0)});f||(a.css("border","1px solid #C9C9C9"),l.remove(),g.push(d),e=b(c.tokenFormatter(d)),e=b(e).addClass(c.classes.token).appendTo(a),b.data(e.get(0),"tokeninput",d),b("<span></span>").addClass(c.classes.tokenDelete).addClass("uiCloseButton").appendTo(e).click(function(){h(b(this).parent());
        0<a.children().size()||(l.appendTo(a),a.css("border",""));return!1}),k())}}function f(){a.children("li").each(function(){h(b(this))});l.appendTo(a)}function h(a){b.data(a.get(0),"tokeninput");var c=a.prevAll().length;a.remove();g=g.slice(0,c).concat(g.slice(c+1));k()}function k(){var a=b.map(g,function(a){return a[c.tokenDataValue]});jQueryCgmp("#"+c.holderId+"hidden").val(a.join("|"))}var g=[];a=b(a);var l=b("<li><p></p></li>").addClass(c.classes.inputToken);a.has("li."+c.classes.token)||l.appendTo(a);
        a.mouseover(function(a){(a=b(a.target).closest("li"))&&!a.hasClass(c.classes.inputToken)&&a.addClass(c.classes.highlightedToken)}).mouseout(function(a){(a=b(a.target).closest("li"))&&!a.hasClass(c.classes.inputToken)&&a.removeClass(c.classes.highlightedToken)});this.getTokens=function(){return g};this.add=function(a){d(a)};this.clear=function(){f()}}})(jQueryCgmp);
